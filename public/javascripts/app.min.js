"use strict";$(document).ready(function(){function e(){console.log(f),d=!0,$("#timer-bar").css("width","100%"),$("#timer-bar").addClass("trans"),a(f,f),n(w),g=window.setTimeout(o,f),t()}function o(){var e=(Date.now()-p)/1e3;$("#pre-game-row").css("display","block"),$("#pre-game-row h4").html('GAME OVER!<br><br> <p class="caption">You lasted '+e.toString().slice(0,-2)+" seconds!<p><br>"),$("#game-row").css("display","none"),d=!1}function n(e){$("#game-row ul").html(""),e.forEach(function(e){$("#game-row ul").append('<li><img src="/images/'+e+'.png" alt="" class="img-circle"></li>')})}function t(e){void 0===e?(b=l(),r(),console.log(b)):m(b.combination,e)?i():s()}function a(e,o){var n=e*$("#timer-bar").width()/o,t=.1*o;$("#timer-bar").css("width",n),e>0&&(h=window.setTimeout(function(){a(e-t,o)},t))}function i(){f-=25,window.clearTimeout(g),window.clearTimeout(h),c(),$("#timer-bar").removeClass("trans"),$("#timer-bar").css("width","100%"),g=window.setTimeout(o,f),b=l(),r(),a(f,f),console.log(b),$("#timer-bar").addClass("trans")}function r(){$("#spell-div img").attr("src","/images/"+b.name.toLowerCase().replace(/\s/,"_")+".png"),$("#spell-div .caption").html(b.name)}function s(){$("body").addClass("reddify"),setTimeout(function(){$("body").removeClass("reddify")},100)}function c(){$("body").addClass("greenify"),setTimeout(function(){$("body").removeClass("greenify")},100)}function m(e,o){return e.length===o.length&&e.every(function(e,n){return e===o.sort()[n]})}function u(e,o){switch(e.toString().toLowerCase()){case"q":o.push("quas"),o.shift();break;case"w":o.push("wex"),o.shift();break;case"e":o.push("exort"),o.shift()}return o}function l(){var e={1:{name:"Cold Snap",combination:["quas","quas","quas"]},2:{name:"Ghost Walk",combination:["quas","quas","wex"]},3:{name:"Ice Wall",combination:["exort","quas","quas"]},4:{name:"Forge Spirits",combination:["exort","exort","quas"]},5:{name:"Tornado",combination:["quas","wex","wex"]},6:{name:"Chaos Meteor",combination:["exort","exort","wex"]},7:{name:"Defeaning Blast",combination:["exort","quas","wex"]},8:{name:"Alacrity",combination:["exort","wex","wex"]},9:{name:"EMP",combination:["wex","wex","wex"]},10:{name:"Sun Strike",combination:["exort","exort","exort"]}}[(Math.floor(10*Math.random())+1).toString()];return b&&e.name===b.name?l():e}var d=!1,w=void 0,b=void 0,f=3e3,g=void 0,h=void 0,p=void 0;$("#game-row").css("display","none"),$("#pre-game-row h4").html(""),$(window).on("keypress",function(o){d?"r"===o.key.toString().toLowerCase()?t(w):n(w=u(o.key,w)):32===o.which&&(p=Date.now(),w=["quas","wex","exort"],$("#pre-game-row").css("display","none"),$("#game-row").css("display","block"),f=2e3,e())})});